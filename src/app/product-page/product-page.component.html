<section id="interPage">
  <div class="wrapper">
    <div>
     <p-table [value]="data" styleClass="p-datatable-gridlines" [tableStyle]="{'min-width': '70rem'}" 
     [paginator]="true"
      [rows]="3">       
        <ng-template pTemplate="header">
            <tr>              
                <th>სახელი</th>               
                <th>რაოდენობა</th>
                <th>ფასი</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-product>
            <tr>                
                <td>{{product.name}}</td>
                <td>{{product.quantity}}</td>
                <td>{{product.price}}</td>
            </tr>
            <div class="card-button">
                <button id="button" (click)="onAddToCard(product)"><img src="./assets/Icon/Card.png"></button>
              </div>
              <div class="discount" *ngFor="let discount of discountResponse">
                   <h4 class="dicountP" *ngIf="discount.productId==product.id">ფასდაკლება {{discount.percent}}% {{discount.endTime}} დე</h4>
              </div>
              <div class="vaucer" *ngFor="let vaucer of vaucers">
                <button id="vaucerButton" (click)="getVaucerName(vaucer.vaucerName)" *ngIf="product.id==vaucer.productId">ვაუჩერის აღება</button>
              </div>
        </ng-template>
       
     </p-table>
   </div>
<!--   --------------------------------------------------------------------------------------------------------------------->
      <div class="Cart">
          <div class="cartTitle">
              <h1>ჩემი კალათა</h1>
          </div>

         
          <div class="parentElement" *ngFor="let product of cardData" >
            <div class="cartWrapper">
              <div class="cart_header">
                  <p>პროდუქტის დასახელება</p>
                  <p>რაოდენობა</p>
                  <p>ფასი</p>
                  <h2>ჯამი</h2>
              </div>
              <div class="cart_body">
                  <p>{{product.name}}</p>
                  <div>
                    <button (click)=" decrement(product)" >-</button>
                    <p>{{product.quantity}}</p>
                    <button (click)="increment(product)">+</button>
                  </div>
                  <p>{{product.price}}</p>
                  <div>
                    <h2  *ngIf="product.sumPrice!=product.price*product.quantity; ">{{getPrice((product.price*product.quantity),product.sumPrice)}}</h2>
                    <h2 *ngIf="product.sumPrice==product.price*product.quantity">{{product.price*product.quantity}}</h2>
                  </div>
                                
              </div>    
              <button id="vaucerUseButton" (click)="getVaucer(product.id)">ვაუჩერის გამოყენება</button>   
              <button class="deleteCartProduct" (click)="deleteCardProduct(product.id)">წაშლა</button>        
           </div>
                       
          </div>
              
          <button class="buy" (click)="buy()">შეძენა</button>

      </div>          
      <h3>ჩემი ანგარიში {{amount}}</h3>
       <div class="vaucerUse">
         <p id="pvaucer">აქ ჩასვით ვაუჩერის სახელი<p>
        <input id="vaucerInput" name="vaucerName" [(ngModel)]="vaucerName">
       </div>
    
      <button pButton type="button"  (click)="onLogOut()" label="გასვლა"></button>
  </div>
</section>

